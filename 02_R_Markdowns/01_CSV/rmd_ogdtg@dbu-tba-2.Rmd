---
title: "Verkehrszähldaten motorisierter Individualverkehr"
author: "OGD-Koordinationsstelle Kanton Thurgau"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Open Government Data, provided by **Canton Thurgau**
*Autogenerated R starter code for dataset with the identifier* **dbu-tba-2**


# **Verkehrszähldaten motorisierter Individualverkehr**

[Link to dataset on data.tg.ch](https://data.tg.ch/explore/dataset/dbu-tba-2/information/)

## Description

<p style='font-family: sans-serif;'><b>Beschreibung</b></p><p style='font-family: sans-serif;'>Der Datensatz beinhaltet die Messergebnisse der Zählstellen für den motorisierten Individualverkehr auf Kantonsstrassen im Kanton Thurgau auf Stundenbasis.<br>Verkehrszähler sind Teil des Verkehrsmonitorings und beinhalten die Datenerfassung an ausgewählten Strassenquerschnitten auf Kantonsstrassen sowie die Datenübertragung zu den Datenverarbeitungsstellen. Nutzendende der Verkehrsdaten sind unter anderem das Verkehrsmanagement und die Verkehrsstatistik.<br></p><p style='font-family: sans-serif;'><span style='font-weight: bolder;'>Datenbezug</span><br></p><p style='font-family: sans-serif;'>Aus Kostengründen können nur die Werte der letzten zwei Wochen direkt von data.tg.ch bezogen werden. Alle anderen Daten - hier für das Jahr 2024 - können auf Jahresbasis über folgenden Link heruntergeladen werden:</p><p style='font-family: sans-serif;'><a href='https://ogdtg.ch/verkehrsdaten/fahrzeugklassen/2024_fzkl_data.csv.gz' target='_blank'>https://ogdtg.ch/verkehrsdaten/total/2024_data.csv.gz</a></p><p style='font-family: sans-serif;'>Die Daten sind verfügbar bis ins Jahr 2011 und die Link Struktur ist dabei jeweils gleich: <a href='https://ogdtg.ch/verkehrsdaten/fahrzeugklassen/[JAHR]_fzkl_data.csv.gz.' target='_blank'>https://ogdtg.ch/verkehrsdaten/total/[JAHR]_data.csv.gz.</a></p><p style='font-family: sans-serif;'>Die Daten für das Jahr 2023 können also zum Beispiel über folgenden Link bezogen werden: <a href='https://ogdtg.ch/verkehrsdaten/total/2023_data.csv.gz' target='_blank'>https://ogdtg.ch/verkehrsdaten/total/2023_data.csv.gz</a><a href='https://ogdtg.ch/verkehrsdaten/fahrzeugklassen/2023_fzkl_data.csv.gz' target='_blank'></a></p><p style='font-family: sans-serif;'><b>Hinweise zur Nutzung</b></p><p style='font-family: sans-serif; margin-bottom: 1em;'>Bei der Nutzung der Daten ist zu beachten das lediglich die Daten bis zum letzten abgeschlossenen Jahr validiert sind. Bei den Daten des aktuell laufenden Jahres handelt es sich um Rohdaten, welche zum Ende des Jahres validiert werden.</p><p style='font-family: sans-serif;'>Beachten Sie bei der Interpretation der Daten bitte auch eventuell vorliegende Verkehrsbehinderungen auf der entsprechenden Strasse, welche die Zählung beeinflussen können. Aktuelle Hinweise zu Verkehrsbehinderungen finden Sie hier:<br><a href='https://tiefbauamt.tg.ch/publikationen-zum-verkehr/baustellen/verkehrsbehinderungen.html/4343' target='_blank'>https://tiefbauamt.tg.ch/publikationen-zum-verkehr/baustellen/verkehrsbehinderungen.html/4343</a></p><p style='font-family: sans-serif;'>Die Zählstellen sind auf MET eingestellt (Spalten zeit_von und zeit_bis), d.h. die Zeitumstellung wird wie in Mitteleuropa ausgeführt. Bei der Umstellung von Winter- auf Sommerzeit fehlt die Stunde der Umstellung, dieser Tag hat dann 23 Stunden. Bei der Umstellung von Sommer- auf Winterzeit ist eine Stunde zu viel enthalten (der Tag hat dann 25 Stunden), die Stunde der Umstellung ist dann doppelt, aber mit unterschiedlichen Verkehrsdaten (da die gleiche Stunde zweimal durchlaufen wird).</p><p style='font-family: sans-serif; margin-bottom: 1em;'>Auf <a href='https://map.geo.tg.ch/apps/mf-geoadmin3/?lang=de&amp;topic=ech&amp;time=2020&amp;layers=strassenverkehrszaehlung_messdaten&amp;layers_timestamp=20200101&amp;E=2723900.00&amp;N=1269850.00&amp;zoom=0' style='background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 14px; font-weight: 400;' target='_blank'>map.geo.tg.ch</a> sind alle permanenten Messstellen inkl. einer Jahresübersicht zum Durchschnittlichen Täglichen Verkehr (DTV) dargestellt.</p><p style='font-family: sans-serif; margin-bottom: 1em;'><b><span style='font-size: 10pt; font-family: Arial, sans-serif; color: red; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;'>Die Daten des laufenden Jahres sind nicht plausibilisiert, es besteht kein Anspruch auf Vollständigkeit</span></b><br></p>

## Metadata

- **Issued**                   : 
- **Modified**                 : 2025-03-15 12:01:43
- **Rights**                   : CC BY 4.0
- **Keywords**                 : verkehr, individualverkehr, zählstelle, auto, pkw, strasse, motorisiert, Verkehrszählung, Verkehrszähldaten

## Load Packages

Every dataset (csv and geodata) on [data.tg.ch](https://data.tg.ch/pages/start/) can be retrieved with the **tgAPI** package. You can download it via [GitHub](https://github.com/ogdtg/tgAPI). Please note that the package has some dependencies, which can result in a lengthy installation process. Therefore, we do not recommend installing the package directly in Google Colab. However, if you intend to run this code on your local machine, we strongly recommend installing the tgAPI package.

```{r}
library(httr)
library(jsonlite)
library(dplyr)
# library(remotes)
# remotes::install.github("ogdtg/tgAPI")

```


## Download Data


```{r}
# Download the Dataset via API
res <- httr::GET("https://data.tg.ch/api/explore/v2.0/catalog/datasets/dbu-tba-2/exports/json")
data <- res$content %>%
  rawToChar() %>%
  jsonlite::fromJSON()

# Use tgAPI
# data <- tgAPI::get_dataset("dbu-tba-2")

head(data)

```


## Explore Metadata

```{r}

res <- httr::GET("https://data.tg.ch/api/explore/v2.0/catalog/datasets/dbu-tba-2")
metadata <- res$content %>%
  rawToChar() %>%
  jsonlite::fromJSON()

# Fields name
cat("\nFields name")
metadata$dataset$fields$name

# Fields description
cat("\nFields description")
metadata$dataset$fields$description

# Fields data type
cat("\nFields data type")
metadata$dataset$fields$type

```


## Analyze data

```{r}

# Look at the dataset and its structure
summary(data)

```


## Continue your code here...


```{r}
# Do some data magic with R
```

------------------------------------------------------------------------

## Questions about the data?

Contact us via [Mail](mailto:ogd@tg.ch) or visit our [GitHub presence](https://github.com/ogdtg)


------------------------------------------------------------------------

OGD-Koordinationsstelle Kanton Thurgau | Grabenstrasse 8 | 8510 Frauenfeld
