---
title: "Planung der Revitalisierung von Fliessgewässern"
author: "OGD-Koordinationsstelle Kanton Thurgau"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Open Government Data, provided by **Canton Thurgau**
*Autogenerated R starter code for geo-dataset with the identifier* **planung-der-revitalisierung-von-fliessgewassern**


# **Planung der Revitalisierung von Fliessgewässern**

[Link to dataset on data.tg.ch](https://data.tg.ch/explore/dataset/planung-der-revitalisierung-von-fliessgewassern/information/)

## Description

Die strategische Planung der Fliessgewässer umfasst den Gewässerlauf sowie Bauwerke und Abstürze, welche die Längsvernetzung beeinträchtigen. Die Erfassung richtet sich nach der Vollzugshilfe 'Revitalisierung Fliessgewässer − strategische Planung' (BAFU 2012). Es werden diejenigen Gewässerabschnitte im beeinträchtigten Zustand identifiziert, an denen mit Revitalisierungen ein grosser Nutzen für die Natur und Landschaft im Verhältnis zum voraussichtlichen Aufwand erzielt werden kann. Die Planung definiert die Massnahmentypen und legt die Fristen zur Umsetzung der Massnahmen über eine Dauer von 20 Jahren fest.

## Metadata

- **Issued**                   : 
- **Modified**                 : 2025-11-28 19:00:13
- **Rights**                   : CC By 4.0
- **Keywords**                 : geodaten, planung, gewasser, gewassersanierung

## Load Packages

Every dataset (csv and geodata) on [data.tg.ch](https://data.tg.ch/pages/start/) can be retrieved with the **tgAPI** package. You can download it via [GitHub](https://github.com/ogdtg/tgAPI). Our Geodata rely on WFS Services and you can download them layer by layer. In some cases the layer data is very large. Therefore, the download may take some time.

```{r}
library(remotes)
remotes::install.github("ogdtg/tgAPI")
library(tgAPI)
#install.packages(ggplot2)
#install.packages(dplyr)
library(dplyr)
library(ggplot2)
library(sf)

```


## Get the Features (layers) of the Geodata

Some datsets are raster data. They do not contain layers and they cannot be downloaded, yet.

```{r}
features <- get_geo_features("planung-der-revitalisierung-von-fliessgewassern")

features
```


## Download the first feature

Features can be downloaded by using their name or their label. The result of the download will be a dat.frame of the class `sf`. You can directly use it for geospatial analysis.

```{r}

feature_num <- 1

geo_data <- get_geo_data("planung-der-revitalisierung-von-fliessgewassern",features$name[feature_num])

tg_data <- get_geo_data("amtliche-vermessung-av", "Gemeindegrenzen")

head(geo_data)
```


## Analyze Data

```{r}

# Look at the dataset and its structure
summary(geo_data)

```


## Plot Data

The base layer shows the borders of the municipalities (`Gemeindegrenzen`). The downloaded feature is colored red

```{r}

# Plot the data
geo_data %>% ggplot() +geom_sf(data = tg_data) + geom_sf(color = "red") +
  labs(title = paste0("Planung der Revitalisierung von Fliessgewässern: ",features$title[feature_num])) +
  theme_minimal()

```


## Continue your code here...


```{r}
# Do some data magic with R
```

------------------------------------------------------------------------

## Questions about the data?

Contact us via [Mail](mailto:ogd@tg.ch) or visit our [GitHub presence](https://github.com/ogdtg)


------------------------------------------------------------------------

OGD-Koordinationsstelle Kanton Thurgau | Grabenstrasse 8 | 8510 Frauenfeld
