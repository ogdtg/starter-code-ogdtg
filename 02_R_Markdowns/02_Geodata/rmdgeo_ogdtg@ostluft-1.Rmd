---
title: "Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten"
author: "OGD-Koordinationsstelle Kanton Thurgau"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Open Government Data, provided by **Canton Thurgau**
*Autogenerated R starter code for geo-dataset with the identifier* **ostluft-1**


# **Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten**

[Link to dataset on data.tg.ch](https://data.tg.ch/explore/dataset/ostluft-1/information/)

## Description

<p data-end='485' data-start='216'>Die hier veröffentlichten Datensätze stammen aus dem <strong data-end='307' data-start='269'>automatischen Messnetz von OSTLUFT</strong>, das kontinuierlich verschiedene <strong data-end='360' data-start='341'>Luftschadstoffe</strong> (z. B. NO₂, PM₁₀, O₃), <strong data-end='413' data-start='384'>meteorologische Parameter</strong> (z. B. Temperatur, Luftdruck, Wind) und weitere Umweltgrößen erfasst.</p><p data-end='820' data-start='487'>Jeder Datensatz enthält <strong data-end='550' data-start='511'>zeitlich aufgelöste Einzelmesswerte</strong> im Halbstunden-, Stunden- oder Tagesintervall, je nach Version. Die Daten geben an: <strong data-end='657' data-start='635'>Start- und Endzeit</strong> der Messung, die <strong data-end='703' data-start='675'>bezeichnende Messstation</strong>, den <strong data-end='721' data-start='709'>Messwert</strong>, sowie den zugehörigen <strong data-end='758' data-start='745'>Indikator</strong> (z. B. „Luftdruck“, „NO₂“) und eine eindeutige Stations-ID.</p><p data-end='1141' data-start='822'>Die Daten werden direkt aus dem <strong data-end='893' data-start='854'>standardisierten OSTLUFT-Messsystem</strong> übernommen. Die Qualitätssicherung erfolgt gemäß den Richtlinien der Schweizer Luftreinhalteverordnung (LRV). Es handelt sich bei den exportierten Daten um <strong data-end='1070' data-start='1050'>vorläufige Werte</strong>, die erst mit der Jahresveröffentlichung definitiv bestätigt werden.<br><br>Aus Speicherplatzgründen finden sich hier nur die Daten für die letzten 365 Tage. Vollständige Datensätze für ganze Jahre können über den Link mit dem folgenden Aufbau als gezippte CSV heruntergeladen werden:<br><a href='https://ogdtg.ch/ostluft/stundenwert_JAHR.csv.gz' target='_blank'>https://ogdtg.ch/ostluft/stundenwert_JAHR.csv.gz</a></p><p data-end='1141' data-start='822'><b>Beispiel:</b> Für das Jahr 2023 können also die Daten über folgenden Link bezogen werden: <a href='https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz' target='_blank'>https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz</a><a href='https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz' target='_blank'></a></p><p data-end='1141' data-start='822'><a href='https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz' target='_blank'></a>Alle verfügbaren Daten können über den folgenden Link bezogen werden: <a href='https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz' style='background-color: rgb(255, 255, 255); font-family: sans-serif; font-size: 14px; font-weight: 400;' target='_blank'>https://ogdtg.ch/ostluft/stundenwert_full.csv.gz</a><br><br><br></p><p>   </p><p data-end='1439' data-start='1143'>Die Daten können ausserdem über <a class='' data-end='1247' data-start='1165' href='https://www.ostluft.ch/messwerte/datenabfrage' rel='noopener' target='_new'>ostluft.ch/messwerte/datenabfrage</a> individuell gefiltert und als CSV-Datei heruntergeladen werden.</p><p data-end='1439' data-start='1143'>Weitere Informationen zu den gemessenen Schadstoffen und Indikatoren finden Sie hier: https://www.ostluft.ch/grundlagen  </p>

## Metadata

- **Issued**                   : 
- **Modified**                 : 2025-08-25 08:00:45
- **Rights**                   : CC BY 4.0
- **Keywords**                 : luftschadstoff, luft, schadstoffbelastung, schadstoff, feinstaub, luftdruck, temperatur, ostluft, stickstoff, ozon, Wind, luftqualität

## Load Packages

Every dataset (csv and geodata) on [data.tg.ch](https://data.tg.ch/pages/start/) can be retrieved with the **tgAPI** package. You can download it via [GitHub](https://github.com/ogdtg/tgAPI). Our Geodata rely on WFS Services and you can download them layer by layer. In some cases the layer data is very large. Therefore, the download may take some time.

```{r}
library(remotes)
remotes::install.github("ogdtg/tgAPI")
library(tgAPI)
#install.packages(ggplot2)
#install.packages(dplyr)
library(dplyr)
library(ggplot2)
library(sf)

```


## Get the Features (layers) of the Geodata

Some datsets are raster data. They do not contain layers and they cannot be downloaded, yet.

```{r}
features <- get_geo_features("ostluft-1")

features
```


## Download the first feature

Features can be downloaded by using their name or their label. The result of the download will be a dat.frame of the class `sf`. You can directly use it for geospatial analysis.

```{r}

feature_num <- 1

geo_data <- get_geo_data("ostluft-1",features$name[feature_num])

tg_data <- get_geo_data("amtliche-vermessung-av", "Gemeindegrenzen")

head(geo_data)
```


## Analyze Data

```{r}

# Look at the dataset and its structure
summary(geo_data)

```


## Plot Data

The base layer shows the borders of the municipalities (`Gemeindegrenzen`). The downloaded feature is colored red

```{r}

# Plot the data
geo_data %>% ggplot() +geom_sf(data = tg_data) + geom_sf(color = "red") +
  labs(title = paste0("Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten: ",features$title[feature_num])) +
  theme_minimal()

```


## Continue your code here...


```{r}
# Do some data magic with R
```

------------------------------------------------------------------------

## Questions about the data?

Contact us via [Mail](mailto:ogd@tg.ch) or visit our [GitHub presence](https://github.com/ogdtg)


------------------------------------------------------------------------

OGD-Koordinationsstelle Kanton Thurgau | Grabenstrasse 8 | 8510 Frauenfeld
