---
title: "Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten"
author: "OGD-Koordinationsstelle Kanton Thurgau"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Open Government Data, provided by **Canton Thurgau**
*Autogenerated R starter code for geo-dataset with the identifier* **ostluft-1**


# **Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten**

[Link to dataset on data.tg.ch](https://data.tg.ch/explore/dataset/ostluft-1/information/)

## Description

 <p>Die hier veröffentlichten Datensätze stammen aus dem automatischen Messnetz von OSTLUFT, das kontinuierlich verschiedene Luftschadstoffe (z. B. NO₂, PM₁₀, O₃), meteorologische Parameter (z. B. Temperatur, Luftdruck, Wind) und weitere Umweltgrößen erfasst.</p>    <p>Jeder Datensatz enthält zeitlich aufgelöste Einzelmesswerte im Halbstunden-, Stunden- oder Tagesintervall, je nach Version. Die Daten geben an: Start- und Endzeit der Messung, die bezeichnende Messstation, den Messwert sowie den zugehörigen Indikator (z. B. „Luftdruck“, „NO₂“) und eine eindeutige Stations-ID.</p>    <p>Die Daten werden direkt aus dem standardisierten OSTLUFT-Messsystem übernommen. Die Qualitätssicherung erfolgt gemäß den Richtlinien der Schweizer Luftreinhalteverordnung (LRV). Es handelt sich bei den exportierten Daten um vorläufige Werte, die erst mit der Jahresveröffentlichung definitiv bestätigt werden.</p>    <p>Aus Speicherplatzgründen finden sich hier nur die Daten für die letzten 365 Tage. Vollständige Datensätze für ganze Jahre können über folgenden Link als gezippte CSV heruntergeladen werden:</p>    <ul>     <li><a href='https://ogdtg.ch/ostluft/stundenwert_JAHR.csv.gz'>https://ogdtg.ch/ostluft/stundenwert_JAHR.csv.gz</a></li>     <li>Beispiel 2023: <a href='https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz'>https://ogdtg.ch/ostluft/stundenwert_2023.csv.gz</a></li>     <li>Alle verfügbaren Jahre: <a href='https://ogdtg.ch/ostluft/stundenwert_full.csv.gz'>https://ogdtg.ch/ostluft/stundenwert_full.csv.gz</a></li>   </ul>    <p>Die Daten können außerdem über <a href='https://www.ostluft.ch/messwerte/datenabfrage'>ostluft.ch/messwerte/datenabfrage</a> individuell gefiltert und als CSV-Datei heruntergeladen werden.</p>    <p>Weitere Informationen zu den gemessenen Schadstoffen und Indikatoren finden Sie <a href='https://www.ostluft.ch/grundlagen'>hier</a>.</p>

## Metadata

- **Issued**                   : 
- **Modified**                 : 2025-08-25 08:00:45
- **Rights**                   : CC BY 4.0
- **Keywords**                 : luftschadstoff, luft, schadstoffbelastung, schadstoff, feinstaub, luftdruck, temperatur, ostluft, stickstoff, ozon, Wind, luftqualität

## Load Packages

Every dataset (csv and geodata) on [data.tg.ch](https://data.tg.ch/pages/start/) can be retrieved with the **tgAPI** package. You can download it via [GitHub](https://github.com/ogdtg/tgAPI). Our Geodata rely on WFS Services and you can download them layer by layer. In some cases the layer data is very large. Therefore, the download may take some time.

```{r}
library(remotes)
remotes::install.github("ogdtg/tgAPI")
library(tgAPI)
#install.packages(ggplot2)
#install.packages(dplyr)
library(dplyr)
library(ggplot2)
library(sf)

```


## Get the Features (layers) of the Geodata

Some datsets are raster data. They do not contain layers and they cannot be downloaded, yet.

```{r}
features <- get_geo_features("ostluft-1")

features
```


## Download the first feature

Features can be downloaded by using their name or their label. The result of the download will be a dat.frame of the class `sf`. You can directly use it for geospatial analysis.

```{r}

feature_num <- 1

geo_data <- get_geo_data("ostluft-1",features$name[feature_num])

tg_data <- get_geo_data("amtliche-vermessung-av", "Gemeindegrenzen")

head(geo_data)
```


## Analyze Data

```{r}

# Look at the dataset and its structure
summary(geo_data)

```


## Plot Data

The base layer shows the borders of the municipalities (`Gemeindegrenzen`). The downloaded feature is colored red

```{r}

# Plot the data
geo_data %>% ggplot() +geom_sf(data = tg_data) + geom_sf(color = "red") +
  labs(title = paste0("Luftqualitätsmessungen OSTLUFT Thurgau – Stundendaten: ",features$title[feature_num])) +
  theme_minimal()

```


## Continue your code here...


```{r}
# Do some data magic with R
```

------------------------------------------------------------------------

## Questions about the data?

Contact us via [Mail](mailto:ogd@tg.ch) or visit our [GitHub presence](https://github.com/ogdtg)


------------------------------------------------------------------------

OGD-Koordinationsstelle Kanton Thurgau | Grabenstrasse 8 | 8510 Frauenfeld
